{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "stroke": null}, "font": "Circular Std Book"}, "vconcat": [{"layer": [{"mark": {"type": "line", "color": "#b4c8d8", "opacity": 0.3, "strokeWidth": 1}, "data": {"name": "data-49fba118259ab3d4c713c7d088ee0fb0"}, "encoding": {"x": {"axis": {"domainColor": "#b4c8d8", "domainOpacity": 0.5, "format": "%b", "grid": false, "labelAngle": 0, "labelColor": "#b4c8d8", "labelOpacity": 0.7, "orient": "bottom", "tickColor": "#b4c8d8", "tickCount": 10, "tickOpacity": 0.5, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#b4c8d8", "titleFontSize": 12, "titleOpacity": 0.8, "titleX": 207, "titleY": -15}, "field": "x", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#b4c8d8", "domainOpacity": 0.5, "format": ".0f", "gridColor": "#b4c8d8", "gridDash": [1, 5], "gridOpacity": 0.5, "labelColor": "#b4c8d8", "labelOpacity": 0.7, "labelPadding": 5, "tickColor": "#b4c8d8", "tickCount": 8, "tickOpacity": 0.5, "ticks": false, "title": "Metric tons (millions)", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#b4c8d8", "titleFontSize": 12, "titleOpacity": 0.8, "titleX": 0, "titleY": -7}, "field": "y", "scale": {"clamp": true, "domain": [0, 6]}, "sort": [], "type": "quantitative"}}}, {"mark": {"type": "area", "color": "#b4c8d8", "opacity": 0.1}, "data": {"name": "data-25109d43caa0c5569d205258aebc1beb"}, "encoding": {"x": {"field": "x", "type": "temporal"}, "y": {"field": "y", "type": "quantitative"}, "y2": {"field": "y2"}}}, {"mark": {"type": "area", "color": "#b4c8d8", "opacity": 0.1}, "data": {"name": "data-ff879df5f2fb8dd11026e0f0cc92cc2f"}, "encoding": {"x": {"field": "x", "type": "temporal"}, "y": {"field": "y", "type": "quantitative"}, "y2": {"field": "y2"}}}, {"mark": {"type": "area", "color": {"gradient": "linear", "stops": [{"color": "#ffffff00", "offset": 0.2}, {"color": "#36B7B4", "offset": 0.8}], "x1": 1, "x2": 1, "y1": 1, "y2": 0}, "interpolate": "monotone", "line": {"color": "#36B7B4"}, "opacity": 1}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"x": {"field": "index", "type": "temporal"}, "y": {"field": "wheat22", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}]}, {"mark": {"type": "area", "color": {"gradient": "linear", "stops": [{"color": "#ffffff00", "offset": 0.2}, {"color": "#F4C245", "offset": 0.8}], "x1": 1, "x2": 1, "y1": 1, "y2": 0}, "interpolate": "monotone", "line": {"color": "#F4C245"}, "opacity": 1}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"x": {"field": "index", "type": "temporal"}, "y": {"field": "corn22", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}]}, {"mark": {"type": "line", "color": "#36B7B4", "interpolate": "monotone", "opacity": 1, "strokeDash": [5, 5]}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"x": {"field": "index", "type": "temporal"}, "y": {"field": "wheat5", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}]}, {"mark": {"type": "line", "color": "#F4C245", "interpolate": "monotone", "opacity": 1, "strokeDash": [5, 5]}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"x": {"field": "index", "type": "temporal"}, "y": {"field": "corn5", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}]}, {"mark": {"type": "text", "align": "left", "color": "#36B7B4", "dx": 5, "dy": -15, "fontSize": 12}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "index", "type": "temporal"}, "y": {"field": "wheat22", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}, {"calculate": "[\"Wheat exports\", \"2017-21 average\"]", "as": "t"}, {"filter": "datum.index>toDate(\"2022-11-01\")"}]}, {"mark": {"type": "text", "align": "left", "color": "#F4C245", "dx": 5, "fontSize": 12}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "index", "type": "temporal"}, "y": {"field": "corn22", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}, {"calculate": "[\"Corn exports\", \"2017-21 average\"]", "as": "t"}, {"filter": "datum.index>toDate(\"2022-11-01\")"}]}, {"mark": {"type": "text", "align": "left", "color": "#36B7B4", "dx": 5, "dy": 5, "fontSize": 12}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "index", "type": "temporal"}, "y": {"field": "wheat5", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}, {"calculate": "[\"Wheat exports\", \"2022\"]", "as": "t"}, {"filter": "datum.index>toDate(\"2022-11-01\")"}]}, {"mark": {"type": "text", "align": "left", "color": "#F4C245", "dx": 5, "dy": -20, "fontSize": 12}, "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "index", "type": "temporal"}, "y": {"field": "corn5", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}, {"calculate": "[\"Corn exports\", \"2022\"]", "as": "t"}, {"filter": "datum.index>toDate(\"2022-11-01\")"}]}, {"mark": {"type": "text", "align": "center", "color": "#b4c8d8", "dy": 15, "opacity": 0.6}, "data": {"name": "data-66bba639248e4521454bccd17dd9705f"}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "x", "type": "temporal"}, "y": {"field": "y", "type": "quantitative"}}}, {"mark": {"type": "text", "align": "center", "color": "#b4c8d8", "dy": 15, "opacity": 0.8}, "data": {"name": "data-26791e0cc0adf11f5afa9b1621a1c7ca"}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "x", "type": "temporal"}, "y": {"field": "y", "type": "quantitative"}}}], "height": 300, "title": "", "width": 400}, {"layer": [{"mark": {"type": "area", "color": {"gradient": "linear", "stops": [{"color": "#F4134D", "offset": 0.1}, {"color": "#179FDB", "offset": 0.9}], "x1": 1, "x2": 1, "y1": 1, "y2": 0}, "interpolate": "monotone", "line": {"color": "#36B7B4"}}, "encoding": {"x": {"axis": {"domainColor": "#b4c8d8", "domainOpacity": 0.5, "format": "%b", "grid": false, "labelAngle": 0, "labelColor": "#b4c8d8", "labelOpacity": 0.7, "orient": "bottom", "tickColor": "#b4c8d8", "tickCount": 10, "tickOpacity": 0.5, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#b4c8d8", "titleFontSize": 12, "titleOpacity": 0.8, "titleX": 207, "titleY": -15}, "field": "index", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#b4c8d8", "domainOpacity": 0.5, "format": ".0f", "gridColor": "#b4c8d8", "gridDash": [1, 5], "gridOpacity": 0.5, "labelColor": "#b4c8d8", "labelOpacity": 0.7, "labelPadding": 5, "tickColor": "#b4c8d8", "tickCount": 3, "tickOpacity": 0.5, "ticks": false, "title": "", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#b4c8d8", "titleFontSize": 12, "titleOpacity": 0.8, "titleX": 0, "titleY": -7}, "field": "y5", "scale": {"clamp": true, "domain": [0, 6]}, "sort": [], "type": "quantitative"}, "y2": {"field": "y22"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}]}, {"mark": {"type": "line", "color": "#F4134D", "interpolate": "monotone", "opacity": 1}, "encoding": {"x": {"field": "index", "type": "temporal"}, "y": {"field": "y22", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}]}, {"mark": {"type": "line", "color": "#179FDB", "interpolate": "monotone", "opacity": 1}, "encoding": {"x": {"field": "index", "type": "temporal"}, "y": {"field": "y5", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}]}, {"mark": {"type": "text", "align": "left", "color": "#179FDB", "dx": 5, "dy": -20, "fontSize": 12}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "index", "type": "temporal"}, "y": {"field": "y22", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}, {"calculate": "[\"Corn + Wheat\", \"2017-21 average\"]", "as": "t"}, {"filter": "datum.index>toDate(\"2022-11-01\")"}]}, {"mark": {"type": "text", "align": "left", "color": "#F4134D", "dx": 5, "dy": 15, "fontSize": 12}, "encoding": {"text": {"field": "t", "type": "nominal"}, "x": {"field": "index", "type": "temporal"}, "y": {"field": "y5", "type": "quantitative"}}, "transform": [{"calculate": "toNumber(datum.wheat22)+toNumber(datum.corn22)", "as": "y22"}, {"calculate": "toNumber(datum.wheat5)+toNumber(datum.corn5)", "as": "y5"}, {"calculate": "[\"Corn + Wheat\", \"2022\"]", "as": "t"}, {"filter": "datum.index>toDate(\"2022-11-01\")"}]}], "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/war-in-ukraine-has-the-black-sea-grain-agreement-improved-global-food-security/data/fig1_wheat.csv"}, "height": 100, "title": "", "width": 400}], "background": "#122B39", "datasets": {"data-49fba118259ab3d4c713c7d088ee0fb0": [{"x": "2022-01-01", "y": 0}, {"x": "2022-12-01", "y": 0}], "data-25109d43caa0c5569d205258aebc1beb": [{"x": "2022-03-01", "y": 0, "y2": 6}, {"x": "2022-07-30", "y": 0, "y2": 6}], "data-ff879df5f2fb8dd11026e0f0cc92cc2f": [{"x": "2022-08-03", "y": 0, "y2": 6}, {"x": "2022-12-01", "y": 0, "y2": 6}], "data-66bba639248e4521454bccd17dd9705f": [{"x": "2022-5-15", "y": 6, "t": ["Restricted port activity", "March-August 2022"]}], "data-26791e0cc0adf11f5afa9b1621a1c7ca": [{"x": "2022-10-01", "y": 6, "t": "Black Sea Grain Initiative"}]}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json"}