{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "stroke": null}}, "layer": [{"mark": {"type": "bar", "height": 20, "opacity": 0.9}, "encoding": {"color": {"type": "nominal", "field": "response", "legend": null, "scale": {"domain": ["Car /\nMinibus /\nVan", "Bus", "Train", "Bicycle", "Tram / Tube", "Taxi", "Motorcycle /\nMoped"], "range": ["#36B7B4", "#E6224B", "#F4C245", "#0063AF", "#00A767", "#179FDB", "#EB5C2E"]}}, "order": {"type": "nominal", "field": "response"}, "x": {"type": "quantitative", "aggregate": "sum", "axis": {"domainColor": "#676A86", "format": ".0%", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "% of respondents", "titleAnchor": "end", "titleColor": "#676A86", "titleFontSize": 10, "titleFontWeight": "normal", "titleY": -17}, "field": "percent", "scale": {"domain": [0, 0.6]}, "sort": []}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "", "titleColor": "#676A86"}, "field": "response", "sort": []}}}, {"mark": {"type": "text", "align": "right", "dx": -5, "dy": 1}, "encoding": {"color": {"condition": {"value": null, "test": "(datum.percent < 0.08)"}, "value": "white"}, "order": {"type": "nominal", "field": "response"}, "text": {"type": "quantitative", "field": "percent", "format": ".0%"}, "x": {"type": "quantitative", "aggregate": "sum", "field": "percent", "stack": "zero"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "", "titleColor": "#676A86"}, "field": "response", "sort": []}}}, {"mark": {"type": "text", "align": "left", "dx": 5, "dy": 1}, "encoding": {"color": {"condition": {"value": null, "test": "(datum.percent > 0.07)"}, "value": "#676A86"}, "order": {"type": "nominal", "field": "response"}, "text": {"type": "quantitative", "field": "percent", "format": ".0%"}, "x": {"type": "quantitative", "aggregate": "sum", "field": "percent", "stack": "zero"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "", "titleColor": "#676A86"}, "field": "response", "sort": []}}}], "data": {"name": "data-1e18e1956e72cd0f37682eedb7f9a2e2"}, "height": {"step": 25}, "title": "", "width": 300, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-1e18e1956e72cd0f37682eedb7f9a2e2": [{"response": "Car /\nMinibus /\nVan", "percent": 0.63}, {"response": "Bus", "percent": 0.15}, {"response": "Train", "percent": 0.11}, {"response": "Bicycle", "percent": 0.09}, {"response": "Tram / Tube", "percent": 0.08}, {"response": "Taxi", "percent": 0.01}, {"response": "Motorcycle /\nMoped", "percent": 0.01}]}}