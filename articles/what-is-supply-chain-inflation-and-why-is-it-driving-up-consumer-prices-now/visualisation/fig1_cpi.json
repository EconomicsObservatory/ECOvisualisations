{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "stroke": null}}, "layer": [{"mark": {"type": "bar", "color": "#36B7B4", "opacity": 0.8, "width": 15}, "encoding": {"x": {"type": "temporal", "axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "tickOffset": 10, "title": "", "titleColor": "#676A86"}, "field": "date", "sort": []}, "y": {"type": "quantitative", "axis": {"domainColor": "#676A86", "format": ".0f", "grid": true, "gridColor": "#676A86", "gridOpacity": 0.1, "labelAlign": "left", "labelBaseline": "middle", "labelColor": "#676A86", "labelOffset": -10, "labelPadding": -5, "tickColor": "#676A86", "tickCount": 7, "ticks": false, "title": "YoY % change", "titleAlign": "left", "titleAnchor": "start", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleFontSize": 10, "titleFontWeight": "normal", "titleX": 20, "titleY": 20}, "field": "start", "sort": []}, "y2": {"field": "end"}}, "transform": [{"calculate": "max(0,datum.goods_rate_w)", "as": "start"}, {"calculate": "datum.start*1.0+datum.serv_rate_w*1.0", "as": "end"}]}, {"mark": {"type": "bar", "color": "#E54753", "opacity": 0.8, "width": 15}, "encoding": {"x": {"type": "temporal", "axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "tickOffset": 10, "title": "", "titleColor": "#676A86"}, "field": "date", "sort": []}, "y": {"type": "quantitative", "field": "goods_rate_w"}}, "transform": [{"calculate": "max(0,datum.goods_rate_w)", "as": "start"}, {"calculate": "datum.start*1.0+datum.serv_rate_w*1.0", "as": "end"}, {"filter": "datum.goods_rate_w<0"}]}, {"mark": {"type": "bar", "color": "#E54753", "opacity": 0.8, "width": 15}, "encoding": {"x": {"type": "temporal", "axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "tickOffset": 10, "title": "", "titleColor": "#676A86"}, "field": "date", "sort": []}, "y": {"type": "quantitative", "field": "goods_rate_w"}}, "transform": [{"calculate": "max(0,datum.goods_rate_w)", "as": "start"}, {"calculate": "datum.start*1.0+datum.serv_rate_w*1.0", "as": "end"}, {"filter": "datum.goods_rate_w>0"}]}, {"mark": {"type": "line", "color": "#0063AF"}, "encoding": {"x": {"type": "temporal", "axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "tickOffset": 10, "title": "", "titleColor": "#676A86"}, "field": "date", "sort": []}, "y": {"type": "quantitative", "field": "all_rate"}}, "transform": [{"calculate": "max(0,datum.goods_rate_w)", "as": "start"}, {"calculate": "datum.start*1.0+datum.serv_rate_w*1.0", "as": "end"}]}, {"data": {"name": "data-bc7483d3fc0ef8ab90f89048240f4e49"}, "mark": {"type": "line", "color": "#676A86", "opacity": 0.3, "strokeWidth": 1}, "encoding": {"x": {"type": "temporal", "field": "x", "sort": []}, "y": {"type": "quantitative", "field": "y"}}}, {"data": {"name": "data-fc311a9a920c5be34a0c109520b6b222"}, "mark": {"type": "line", "color": "#676A86", "opacity": 0.3, "strokeWidth": 1}, "encoding": {"x": {"type": "temporal", "field": "x", "sort": []}, "y": {"type": "quantitative", "field": "y"}}}, {"data": {"name": "data-7c45dd8cb3c06eb7bafaaeedc17ad21a"}, "mark": {"type": "text", "align": "left", "color": "#36B7B4", "size": 12}, "encoding": {"text": {"type": "nominal", "field": "t"}, "x": {"type": "temporal", "field": "x"}, "y": {"type": "quantitative", "field": "y"}}}, {"data": {"name": "data-ef8c87118f19d4d28177c656b9a18a5f"}, "mark": {"type": "text", "align": "left", "color": "#E54753", "size": 12}, "encoding": {"text": {"type": "nominal", "field": "t"}, "x": {"type": "temporal", "field": "x"}, "y": {"type": "quantitative", "field": "y"}}}, {"data": {"name": "data-94889bccd47d5390364275897709f741"}, "mark": {"type": "text", "color": "#0063AF", "size": 12}, "encoding": {"text": {"type": "nominal", "field": "t"}, "x": {"type": "temporal", "field": "x"}, "y": {"type": "quantitative", "field": "y"}}}], "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/what-is-supply-chain-inflation-and-why-is-it-driving-up-consumer-prices-now/data/fig1_cpi.csv"}, "height": 300, "title": "", "width": 450, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-bc7483d3fc0ef8ab90f89048240f4e49": [{"x": "2019-12-01", "y": 0}, {"x": "2021-11-01", "y": 0}], "data-fc311a9a920c5be34a0c109520b6b222": [{"x": "2021-01-01", "y": 0.95}, {"x": "2021-01-01", "y": 5.5}], "data-7c45dd8cb3c06eb7bafaaeedc17ad21a": [{"x": "2020-01-01", "y": 2, "t": "Services"}], "data-ef8c87118f19d4d28177c656b9a18a5f": [{"x": "2020-01-01", "y": -0.2, "t": "Goods"}], "data-94889bccd47d5390364275897709f741": [{"x": "2021-09-17", "y": 4.7, "t": "CPI"}]}}