{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "stroke": null}}, "layer": [{"mark": {"type": "area", "fillOpacity": 0.7, "line": {}}, "encoding": {"color": {"field": "Fuel", "legend": null, "scale": {"range": ["#243B5A", "#F4134D", "#179FDB", "#F4C245", "#676A86", "#00A767"]}, "type": "nominal"}, "order": {"field": "order", "sort": "descending", "type": "quantitative"}, "tooltip": {"field": "tooltip", "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "format": ".0f", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "Year", "sort": [], "type": "quantitative"}, "y": {"axis": {"domain": false, "domainColor": "#676A86", "format": ".0f", "gridOpacity": 0.4, "labelAlign": "left", "labelBaseline": "middle", "labelColor": "#676A86", "labelOffset": -10, "labelPadding": -5, "tickColor": "#676A86", "tickCount": 6, "ticks": false, "title": "EJ", "titleAlign": "left", "titleAngle": 0, "titleColor": "#676A86", "titleFontSize": 10, "titleFontWeight": "normal", "titleX": 25, "titleY": -5}, "field": "EJ", "stack": true, "type": "quantitative"}}, "transform": [{"calculate": "datum.Year+' | '+datum.Fuel+ ': '+round(datum.EJ*10)/10 +' EJ'", "as": "tooltip"}, {"calculate": "indexof(['Coal','Oil','Gas','Renewables','Hydro','Nuclear'], datum.Fuel)", "as": "order"}]}, {"mark": {"type": "text", "align": "left", "dx": 5, "dy": 10}, "encoding": {"color": {"field": "Fuel", "legend": null, "scale": {"range": ["#243B5A", "#F4134D", "#179FDB", "#F4C245", "#676A86", "#00A767"]}, "type": "nominal"}, "order": {"field": "order", "sort": "descending", "type": "quantitative"}, "text": {"field": "Fuel", "type": "nominal"}, "tooltip": {"field": "tooltip", "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "format": ".0f", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "Year", "sort": [], "type": "quantitative"}, "y": {"axis": {"domain": false, "domainColor": "#676A86", "format": ".0f", "gridOpacity": 0.4, "labelAlign": "left", "labelBaseline": "middle", "labelColor": "#676A86", "labelOffset": -10, "labelPadding": -5, "tickColor": "#676A86", "tickCount": 6, "ticks": false, "title": "EJ", "titleAlign": "left", "titleAngle": 0, "titleColor": "#676A86", "titleFontSize": 10, "titleFontWeight": "normal", "titleX": 25, "titleY": -5}, "field": "EJ", "stack": true, "type": "quantitative"}}, "transform": [{"calculate": "datum.Year+' | '+datum.Fuel+ ': '+round(datum.EJ*10)/10 +' EJ'", "as": "tooltip"}, {"calculate": "indexof(['Coal','Oil','Gas','Renewables','Hydro','Nuclear'], datum.Fuel)", "as": "order"}, {"filter": "datum.Year==2020"}]}], "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/will-our-energy-use-change-after-the-pandemic-and-cop26/data/fig2_energy_by_source.csv"}, "height": 300, "title": "", "width": 400, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json"}