{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "stroke": null}}, "layer": [{"mark": {"type": "line", "color": "#0063AF", "opacity": 0.7}, "encoding": {"color": {"field": "country", "legend": null, "scale": {"range": ["#EF3340", "#0055A4", "#FFCD00", "#007A33", "gray", "#012169", "#BF0D3E"]}, "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "date", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "Index, 2016 = 100", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": -5, "titleY": -5}, "field": "value", "scale": {"domain": [75, 135]}, "sort": [], "type": "quantitative"}}, "transform": [{"calculate": "timeParse(replace(replace(replace(replace(datum.yearq, 'Q1', '02'), 'Q2', '05'),  'Q3', '08'), 'Q4', '11'), '%Y %m')", "as": "date"}]}, {"mark": {"type": "line", "strokeWidth": 3}, "encoding": {"color": {"field": "country", "legend": null, "scale": {"range": ["#EF3340", "#0055A4", "#FFCD00", "#007A33", "gray", "#012169", "#BF0D3E"]}, "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "date", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "Index, 2016 = 100", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": -5, "titleY": -5}, "field": "value", "scale": {"domain": [75, 135]}, "sort": [], "type": "quantitative"}}, "transform": [{"calculate": "timeParse(replace(replace(replace(replace(datum.yearq, 'Q1', '02'), 'Q2', '05'),  'Q3', '08'), 'Q4', '11'), '%Y %m')", "as": "date"}, {"filter": "datum.country==\"UK\""}]}, {"mark": {"type": "text", "align": "left", "xOffset": 5}, "encoding": {"color": {"field": "country", "legend": null, "scale": {"range": ["#EF3340", "#0055A4", "#FFCD00", "#007A33", "gray", "#012169", "#BF0D3E"]}, "type": "nominal"}, "text": {"field": "country", "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "date", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "Index, 2016 = 100", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": -5, "titleY": -5}, "field": "value", "scale": {"domain": [75, 135]}, "sort": [], "type": "quantitative"}}, "transform": [{"calculate": "timeParse(replace(replace(replace(replace(datum.yearq, 'Q1', '02'), 'Q2', '05'),  'Q3', '08'), 'Q4', '11'), '%Y %m')", "as": "date"}, {"filter": "datum.yearq==\"2022 Q4\""}]}, {"mark": {"type": "text", "align": "left", "xOffset": 5}, "encoding": {"color": {"field": "country", "legend": null, "scale": {"range": ["#EF3340", "#0055A4", "#FFCD00", "#007A33", "gray", "#012169", "#BF0D3E"]}, "type": "nominal"}, "text": {"field": "country", "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "date", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "Index, 2016 = 100", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": -5, "titleY": -5}, "field": "value", "scale": {"domain": [75, 135]}, "sort": [], "type": "quantitative"}}, "transform": [{"calculate": "timeParse(replace(replace(replace(replace(datum.yearq, 'Q1', '02'), 'Q2', '05'),  'Q3', '08'), 'Q4', '11'), '%Y %m')", "as": "date"}, {"filter": "datum.yearq==\"2022 Q3\""}, {"filter": "datum.country==\"Germany\""}]}, {"mark": {"type": "text", "align": "left", "xOffset": 5}, "encoding": {"color": {"field": "country", "legend": null, "scale": {"range": ["#EF3340", "#0055A4", "#FFCD00", "#007A33", "gray", "#012169", "#BF0D3E"]}, "type": "nominal"}, "text": {"field": "country", "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "date", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "Index, 2016 = 100", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": -5, "titleY": -5}, "field": "value", "scale": {"domain": [75, 135]}, "sort": [], "type": "quantitative"}}, "transform": [{"calculate": "timeParse(replace(replace(replace(replace(datum.yearq, 'Q1', '02'), 'Q2', '05'),  'Q3', '08'), 'Q4', '11'), '%Y %m')", "as": "date"}, {"filter": "datum.yearq==\"2022 Q3\""}, {"filter": "datum.country==\"Italy\""}]}, {"mark": {"type": "text", "align": "left", "xOffset": -15, "yOffset": 15}, "encoding": {"color": {"field": "country", "legend": null, "scale": {"range": ["#EF3340", "#0055A4", "#FFCD00", "#007A33", "gray", "#012169", "#BF0D3E"]}, "type": "nominal"}, "text": {"field": "country", "type": "nominal"}, "x": {"axis": {"domainColor": "#676A86", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleAlign": "center", "titleAnchor": "middle", "titleColor": "#676A86", "titleX": 207, "titleY": -15}, "field": "date", "sort": [], "type": "temporal"}, "y": {"axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "tickColor": "#676A86", "title": "Index, 2016 = 100", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": -5, "titleY": -5}, "field": "value", "scale": {"domain": [75, 135]}, "sort": [], "type": "quantitative"}}, "transform": [{"calculate": "timeParse(replace(replace(replace(replace(datum.yearq, 'Q1', '02'), 'Q2', '05'),  'Q3', '08'), 'Q4', '11'), '%Y %m')", "as": "date"}, {"filter": "datum.yearq==\"2022 Q3\""}, {"filter": "datum.country==\"Canada\""}]}], "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/how-has-brexit-affected-business-investment-in-the-uk/data/fig3_countries.csv"}, "height": 300, "title": "", "width": 400, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json"}