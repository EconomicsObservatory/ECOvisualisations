<!doctype html>
<html>

<head>

    <meta charset="utf-8">
    <title>Circle Packing Chart | D3plus</title>

    <script src="https://d3plus.org/js/d3plus-hierarchy.v1.0.full.min.js"></script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>

</head>

<body>

    <script>
        new d3plus.Pack()
            // .data("fig1_food groups.json")
            // .groupBy()
            // .sum("value")
            // .color("color")
            // .tooltipConfig({
            //     body: function(d) {
            //         var table = "<table class='tooltip-table'>";
            //         table += "<tr><td class='title'><b>" + Math.round(d.value * 100) / 100.0 + "</b></td><td class='data'> million £ on TV adverts in 2015</td></tr>";
            //         table += "</table>";
            //         return table;
            //     },
            //     footer: ''
            // })
            // .loadingMessage(false)
            // .legendPosition('bottom')
            // .legendConfig({
            //     labelConfig: {
            //         font: {
            //             size: 45
            //         }
            //     }
            // })
            .config({
                data: "fig1_food groups.json",
                groupBy: ["parent", "id"],
                color: "color",
                legendConfig: {
                    shapeConfig: {}
                },
                loadingMessage: false,
                legendPosition: 'bottom',
                tooltipConfig: {
                    tbody: [
                        [function(d) {
                            return Math.round(d.value * 100) / 100.0 + " million £ on TV adverts in 2015"
                        }]
                    ]
                },
            })
            .render();
    </script>

</body>

</html>