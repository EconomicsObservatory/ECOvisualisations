<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <script src="d3plus-geomap.v0.6.full.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: none;
        }

        div,
        text {
            font-family: sans-serif !important;
        }
    </style>
</head>

<body></body>
<script>
    let chart = new d3plus.Geomap()
    chart.data('2014_referendum.json')
        .zoom(false)
        .colorScale("yes")
        .colorScaleConfig({
            color: ['#F4134D', '#E54753', '#eeeeee', '#0063AF'],
            axisConfig: {
                // domain: [-10, 10]
            },
        })
        .detectVisible(false)
        .tiles(false)
        .title('')
        .ocean("transparent")
        .loadingMessage(false)
        .label(d => d['id']+': '+d['yes']+'% ' + ' voted YES')
        .shapeConfig({
            label: function (d) {
                return d['yes']
            },
            labelConfig: {
                fontMin: 6,
                fontMax: 14,
                fontResize: true,
                padding: "-3 -3 -3 -3"
            }
        })

    chart.topojson("scotland_lad_mini_data.json", function (map) {
        map['objects']['lad']['geometries'].forEach(function (d, i) {
            d['id'] = d['properties']['LAD13NM']
        })
        return map
    })

    chart.render()
</script>

</html>