{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "stroke": null}}, "layer": [{"mark": {"type": "bar", "color": "#36B7B4", "height": 15, "opacity": 0.9}, "encoding": {"color": {"type": "nominal", "field": "clink", "legend": null, "scale": {"range": ["#36B7B4", "#0063AF"]}}, "tooltip": {"type": "nominal", "field": "tooltip"}, "x": {"type": "quantitative", "axis": {"domainColor": "#676A86", "format": ".0%", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleColor": "#676A86"}, "field": "x"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "orient": "right", "tickColor": "#676A86", "title": "", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": 0, "titleY": -5}, "field": "country", "sort": []}}, "transform": [{"calculate": "datum.country+' \ud83d\udd3d '+round(datum.drawdown*10)/10.0+'%'+' 4\ufe0f\u20e3 '+round(datum.through*10)/10.0+'%'", "as": "tooltip"}, {"calculate": "datum.drawdown/100", "as": "x"}, {"calculate": "datum.through/100", "as": "p"}]}, {"mark": {"type": "text", "align": "left", "dx": 3, "dy": 1}, "encoding": {"color": {"condition": {"value": null, "test": "(datum.Value < 0.08)"}, "value": "white"}, "text": {"type": "quantitative", "field": "x", "format": ".0%"}, "tooltip": {"type": "nominal", "field": "tooltip"}, "x": {"type": "quantitative", "axis": {"domainColor": "#676A86", "format": ".0%", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleColor": "#676A86"}, "field": "x"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "orient": "right", "tickColor": "#676A86", "title": "", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": 0, "titleY": -5}, "field": "country", "sort": []}}, "transform": [{"calculate": "datum.country+' \ud83d\udd3d '+round(datum.drawdown*10)/10.0+'%'+' 4\ufe0f\u20e3 '+round(datum.through*10)/10.0+'%'", "as": "tooltip"}, {"calculate": "datum.drawdown/100", "as": "x"}, {"calculate": "datum.through/100", "as": "p"}]}, {"mark": {"type": "circle", "color": "#F4C245", "opacity": 1, "size": 80}, "encoding": {"tooltip": {"type": "nominal", "field": "tooltip"}, "x": {"type": "quantitative", "field": "p"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "orient": "right", "tickColor": "#676A86", "title": "", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": 0, "titleY": -5}, "field": "country", "sort": []}}, "transform": [{"calculate": "datum.country+' \ud83d\udd3d '+round(datum.drawdown*10)/10.0+'%'+' 4\ufe0f\u20e3 '+round(datum.through*10)/10.0+'%'", "as": "tooltip"}, {"calculate": "datum.drawdown/100", "as": "x"}, {"calculate": "datum.through/100", "as": "p"}]}, {"mark": {"type": "text", "align": "right", "color": "#0063AF", "dx": -3, "dy": 1}, "encoding": {"text": {"type": "nominal", "field": "l"}, "tooltip": {"type": "nominal", "field": "tooltip"}, "x": {"type": "quantitative", "axis": {"domainColor": "#676A86", "format": ".0%", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleColor": "#676A86"}, "field": "x"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "orient": "right", "tickColor": "#676A86", "title": "", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": 0, "titleY": -5}, "field": "country", "sort": []}}, "transform": [{"calculate": "datum.country+' \ud83d\udd3d '+round(datum.drawdown*10)/10.0+'%'+' 4\ufe0f\u20e3 '+round(datum.through*10)/10.0+'%'", "as": "tooltip"}, {"calculate": "datum.drawdown/100", "as": "x"}, {"calculate": "datum.through/100", "as": "p"}, {"filter": {"field": "country", "oneOf": ["Malaysia"]}}, {"calculate": "'Commodity-linked'", "as": "l"}]}, {"mark": {"type": "text", "align": "right", "color": "#36B7B4", "dx": -3, "dy": 1}, "encoding": {"text": {"type": "nominal", "field": "l"}, "tooltip": {"type": "nominal", "field": "tooltip"}, "x": {"type": "quantitative", "axis": {"domainColor": "#676A86", "format": ".0%", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleColor": "#676A86"}, "field": "x"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "orient": "right", "tickColor": "#676A86", "title": "", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": 0, "titleY": -5}, "field": "country", "sort": []}}, "transform": [{"calculate": "datum.country+' \ud83d\udd3d '+round(datum.drawdown*10)/10.0+'%'+' 4\ufe0f\u20e3 '+round(datum.through*10)/10.0+'%'", "as": "tooltip"}, {"calculate": "datum.drawdown/100", "as": "x"}, {"calculate": "datum.through/100", "as": "p"}, {"filter": {"field": "country", "oneOf": ["Poland"]}}, {"calculate": "'Others'", "as": "l"}]}, {"mark": {"type": "text", "align": "right", "color": "#ecad0e", "dx": -3, "dy": 1}, "encoding": {"text": {"type": "nominal", "field": "l"}, "tooltip": {"type": "nominal", "field": "tooltip"}, "x": {"type": "quantitative", "axis": {"domainColor": "#676A86", "format": ".0%", "grid": false, "labelAngle": 0, "labelColor": "#676A86", "orient": "bottom", "tickColor": "#676A86", "tickCount": 10, "title": "", "titleColor": "#676A86"}, "field": "x"}, "y": {"type": "nominal", "axis": {"domainColor": "#676A86", "grid": false, "labelColor": "#676A86", "orient": "right", "tickColor": "#676A86", "title": "", "titleAlign": "left", "titleAngle": 0, "titleBaseline": "bottom", "titleColor": "#676A86", "titleX": 0, "titleY": -5}, "field": "country", "sort": []}}, "transform": [{"calculate": "datum.country+' \ud83d\udd3d '+round(datum.drawdown*10)/10.0+'%'+' 4\ufe0f\u20e3 '+round(datum.through*10)/10.0+'%'", "as": "tooltip"}, {"calculate": "datum.drawdown/100", "as": "x"}, {"calculate": "datum.through/100", "as": "p"}, {"filter": {"field": "country", "oneOf": ["Turkey"]}}, {"calculate": "'Through April 9'", "as": "l"}]}], "data": {"url": "https://raw.githubusercontent.com/EconomicsObservatory/ECOvisualisations/main/articles/2021-07-01-how-are-developing-economies-coping-with-the-covid-19-crisis/data/fig1_drawdown.csv"}, "height": {"step": 18}, "title": "", "width": 300, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json"}